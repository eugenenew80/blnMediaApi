<?xml version="1.0" encoding="UTF-8"?>
<entity-mappings version="2.1" xmlns="http://xmlns.jcp.org/xml/ns/persistence/orm" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/persistence/orm http://www.oracle.com/webfolder/technetwork/jsc/xml/ns/persistence/orm_2_1.xsd">
	<entity class="kz.kegoc.bln.entity.dict.MeteringPoint">
		<table name="dict_metering_points" schema="apps"/>
		<attributes>
			<id name="id">
				<column name="id" />
			</id>

			<basic name="name">
				<column name="name" />
			</basic>

			<basic name="code">
				<column name="code" />
			</basic>

			<basic name="externalCode">
				<column name="external_code" />
			</basic>

			<many-to-one name="meteringPointType">
				<join-column name="metering_point_type_id"/>
			</many-to-one>

			<one-to-many name="meters" mapped-by="meteringPoint"/>
		</attributes>
	</entity>


	<entity class="kz.kegoc.bln.entity.dict.MeteringPointType">
		<table name="dict_metering_point_types" schema="apps" />
		<attributes>
			<id name="id">
				<column name="id" />
			</id>

			<basic name="code">
				<column name="code" />
			</basic>

			<basic name="name">
				<column name="name" />
			</basic>
		</attributes>
	</entity>

	<entity class="kz.kegoc.bln.entity.dict.Unit">
		<table name="dict_units" schema="apps" />
		<attributes>
			<id name="id">
				<column name="id" />
			</id>

			<basic name="code">
				<column name="code" />
			</basic>

			<basic name="name">
				<column name="name" />
			</basic>

			<basic name="shortName">
				<column name="short_name" />
			</basic>
		</attributes>
	</entity>


	<entity class="kz.kegoc.bln.entity.dict.Meter">
		<table name="dict_meters" schema="apps"/>
		<attributes>
			<id name="id">
				<column name="id" />
			</id>

			<basic name="name">
				<column name="name" />
			</basic>

			<basic name="serialNumber">
				<column name="serial_number" />
			</basic>
		</attributes>
	</entity>

	<entity class="kz.kegoc.bln.entity.dict.MeteringPointMeter">
		<table name="dict_metering_point_meters" schema="apps" />
		<attributes>
			<id name="id">
				<column name="id" />
			</id>
      		
			<many-to-one name="meteringPoint">
				<join-column name="metering_point_id" />	
			</many-to-one>  

			<many-to-one name="meter">
				<join-column name="meter_id"/>
			</many-to-one>
		</attributes>
	</entity>


	<entity class="kz.kegoc.bln.entity.data.MeasDataRaw">
		<table name="media_meas_data_raw" schema="apps"/>
		<attributes>
			<id name="id">
				<column name="id" />
				<generated-value strategy="SEQUENCE" generator="media_meas_data_raw_gen" />
				<sequence-generator
						name="media_meas_data_raw_gen"
						sequence-name="apps.media_meas_data_raw_s"
						allocation-size="1"
				/>
			</id>

			<basic name="sourceMeteringPointCode">
				<column name="source_metering_point_code" />
			</basic>

			<basic name="sourceParamCode">
				<column name="source_param_code" />
			</basic>

			<basic name="measDate">
				<column name="meas_date" />
			</basic>

			<basic name="sourceUnitCode">
				<column name="source_unit_code" />
			</basic>

			<basic name="val">
				<column name="val" />
			</basic>

			<basic name="dataSourceCode">
				<column name="data_source_code" />
				<enumerated>STRING</enumerated>
			</basic>

			<basic name="createDate">
				<column name="create_date" />
			</basic>

			<basic name="lastUpdateDate">
				<column name="last_update_date" />
			</basic>
		</attributes>
	</entity>

	<entity class="kz.kegoc.bln.entity.data.MeteringReadingRaw">
		<table name="media_metering_reading_raw" schema="apps"/>
		<attributes>
			<id name="id">
				<column name="id" />
				<generated-value strategy="SEQUENCE" generator="media_metering_reading_raw_gen" />
				<sequence-generator
						name="media_metering_reading_raw_gen"
						sequence-name="apps.media_metering_reading_raw_s"
						allocation-size="1"
				/>
			</id>

			<basic name="sourceMeteringPointCode">
				<column name="source_metering_point_code" />
			</basic>

			<basic name="sourceParamCode">
				<column name="source_param_code" />
			</basic>

			<basic name="meteringDate">
				<column name="metering_date" />
			</basic>

			<basic name="sourceUnitCode">
				<column name="source_unit_code" />
			</basic>

			<basic name="val">
				<column name="val" />
			</basic>

			<basic name="dataSourceCode">
				<column name="data_source_code" />
				<enumerated>STRING</enumerated>
			</basic>

			<basic name="createDate">
				<column name="create_date" />
			</basic>

			<basic name="lastUpdateDate">
				<column name="last_update_date" />
			</basic>
		</attributes>
	</entity>


	<entity class="kz.kegoc.bln.entity.data.MeasData">
		<table name="media_meas_data" schema="apps"/>
		<attributes>
			<id name="id">
				<column name="id" />
				<generated-value strategy="SEQUENCE" generator="media_meas_data_gen" />
				<sequence-generator
						name="media_meas_data_gen"
						sequence-name="apps.media_meas_data_s"
						allocation-size="1"
				/>
			</id>

			<basic name="sourceMeteringPointCode">
				<column name="source_metering_point_code" />
			</basic>

			<basic name="sourceParamCode">
				<column name="source_param_code" />
			</basic>

			<basic name="measDate">
				<column name="meas_date" />
			</basic>

			<basic name="sourceUnitCode">
				<column name="source_unit_code" />
			</basic>

			<basic name="val">
				<column name="val" />
			</basic>

			<basic name="intervalType">
				<column name="interval_type" />
				<enumerated>STRING</enumerated>
			</basic>

			<basic name="status">
				<column name="status" />
				<enumerated>ORDINAL</enumerated>
			</basic>

			<basic name="dataSourceCode">
				<column name="data_source_code" />
				<enumerated>STRING</enumerated>
			</basic>

			<basic name="paramCode">
				<column name="param_code" />
			</basic>

			<basic name="createDate">
				<column name="create_date" />
			</basic>

			<basic name="lastUpdateDate">
				<column name="last_update_date" />
			</basic>

			<many-to-one name="unit">
				<join-column name="unit_id"/>
			</many-to-one>

			<many-to-one name="meteringPoint">
				<join-column name="metering_point_id"/>
			</many-to-one>

			<many-to-one name="meter">
				<join-column name="meter_id"/>
			</many-to-one>
		</attributes>
	</entity>


	<entity class="kz.kegoc.bln.entity.data.MeteringReading">
		<table name="media_metering_reading" schema="apps"/>
		<attributes>
			<id name="id">
				<column name="id" />
				<generated-value strategy="SEQUENCE" generator="media_metering_reading_gen" />
				<sequence-generator
						name="media_metering_reading_gen"
						sequence-name="apps.media_metering_reading_s"
						allocation-size="1"
				/>
			</id>

			<basic name="sourceMeteringPointCode">
				<column name="source_metering_point_code" />
			</basic>

			<basic name="paramCode">
				<column name="param_code" />
			</basic>

			<basic name="meteringDate">
				<column name="metering_date" />
			</basic>

			<basic name="sourceUnitCode">
				<column name="source_unit_code" />
			</basic>

			<basic name="val">
				<column name="val" />
			</basic>

			<basic name="dataSourceCode">
				<column name="data_source_code" />
				<enumerated>STRING</enumerated>
			</basic>

			<basic name="sourceParamCode">
				<column name="source_param_code" />
			</basic>

			<basic name="intervalType">
				<column name="interval_type" />
				<enumerated>STRING</enumerated>
			</basic>

			<basic name="status">
				<column name="status" />
				<enumerated>ORDINAL</enumerated>
			</basic>

			<basic name="createDate">
				<column name="create_date" />
			</basic>

			<basic name="lastUpdateDate">
				<column name="last_update_date" />
			</basic>

			<many-to-one name="unit">
				<join-column name="unit_id"/>
			</many-to-one>

			<many-to-one name="meteringPoint">
				<join-column name="metering_point_id"/>
			</many-to-one>

			<many-to-one name="meter">
				<join-column name="meter_id"/>
			</many-to-one>
		</attributes>
	</entity>

	<entity class="kz.kegoc.bln.entity.data.LastLoadInfo">
		<table name="media_last_load_info" schema="apps"/>
		<attributes>
			<id name="id">
				<column name="id" />
        		<generated-value strategy="SEQUENCE" generator="media_last_load_info_gen" />
        		<sequence-generator
        			name="media_last_load_info_gen"
        			sequence-name="apps.media_last_load_info_s"
					allocation-size="1"
        		/>				
			</id>

			<basic name="sourceMeteringPointCode">
				<column name="source_metering_point_code" />
			</basic>
			
      		<basic name="sourceParamCode">
      			<column name="source_param_code" />
      		</basic>
      					
			<basic name="lastLoadDate">
				<column name="last_load_date" />
			</basic>
		</attributes>
	</entity>
</entity-mappings>
